# Web App Project

Это веб-приложение, созданное с использованием Flask. В этом проекте есть несколько файлов, каждый из которых выполняет свою роль.

В приложении создан пользователь, используя аккаунт которого можно тестировать работу приложения.

Логин: v9023669439@gmail.com
Пароль: Art29031705

## Описание основных файлов приложения

### `app.py`
Главный файл приложения. Здесь создается само приложение Flask, добавляется база данных, прописываются маршруты. Также в этом файле есть функция, которая запускает ботов в отдельном потоке, ключ которых уже добавлен на странице интеграции, после запуска приложения.

### `auth.py`
Этот файл отвечает за регистрацию и вход пользователей в приложение. 

### `admin.py`

Файл в котором настроена админ-панель базы данных, после запуска приложения можно перейти на страницу http://127.0.0.1:5000/myadmin/ просмотреть таблицы и их содержимое

### `analytic.py`

В этом файле будет логика для страницы "Аналитика"

### `main.py`

В этом файле прописаны функции для страницы Index.html

### `forms.py`

В этом файле форма регистрации

### `setting_bot.py`

Тут я сохраняю настройки бота со страницы setting_bot в базу данных, проверяю какая модель выбрана в выпадающем списке и если выбрана модель chat gpt 3.5 я запускаю файл run_gpt_3_5.py. В этом файле написаны функции для страницы setting_bot

### `telegram_api.py`

Тут я получаю ключ интеграции Телеграм бота, который пользователь добавляет на странице telegram_integration.html и запускаю бота.

### `mail.py`
Файл для работы с отправкой email. Он создает токен подтверждения и отправляет пользователям письмо с подтверждением регистрации. Использует Flask-Mail для отправки писем.

### `db.py`
Файл для работы с базой данных. Содержит функции для выполнения SQL-запросов. Этот файл используется другими модулями для взаимодействия с базой данных.

### `bot_users.py`
Файл содержит функции для работы с ботами, принадлежащими пользователям. Например, здесь есть функция, которая получает список всех ботов конкретного пользователя из базы данных.

### `config.py`
Конфигурационный файл для настройки приложения. Содержит параметры, такие как секретный ключ приложения, настройки почтового сервера и параметры подключения к базе данных.

### `routes.py`
Тут создание бота и вход в приложение. Возможно это дублирование, надо проверить или вынести в другой файл.

### `file_format.py`

В этом файле проверяется файл который пользователь загрузил на странице setting_bot

### `gpt.py`

Старый файл, пока не трогай

### `integration.py`

Файл, в котором происходит интеграция бота с телеграм

### `lama.py`

Файл, в котором я эксперементировала с функционалом модели лама, он никуда пока не подключен, его пока не удаляй, потом тут появиться актуальный код

### `models.py`

Файл с моделями базы данных

### `run_gpt_3.5.py`

Если на странице настроек выбрана модель gpt запускается этот файл

### `utils.py`

Тут проверяется список загруженных файлов в систему, на странице setting_bot, если есть загруженные файлы то они выводятся на страницу

## Описание файлов html

### `index.html`
Главная страница приложения. Содержит инструкции по созданию бота и ссылки на документацию, техническую поддержку и услуги по созданию ботов "под ключ".

### `registration.html`
Страница регистрации пользователей. Включает форму для ввода имени пользователя, email и пароля, а также поле для подтверждения пароля.

### `login.html`
Страница входа в систему. Содержит форму для ввода email и пароля, а также опцию "Запомнить меня".

### `letter_registration.html`
Страница подтверждения регистрации. Сообщает пользователю, что на его email отправлена ссылка для подтверждения регистрации.

### `email_confirmation.html`
Шаблон email для подтверждения регистрации. Содержит ссылку, по которой пользователь должен перейти, чтобы подтвердить свой email.

### `password_recovery.html`
Страница восстановления пароля. Содержит форму для ввода email, чтобы отправить инструкции по восстановлению пароля.

### `password_recovery_email.html`
Шаблон email для восстановления пароля. Сообщает пользователю, что на его email отправлены инструкции по восстановлению пароля.

### `changing_the_password.html`
Страница для смены пароля. Содержит форму для ввода нового пароля и его подтверждения.

### `all_projects.html`
Страница, отображающая список всех ботов пользователя. Содержит информацию о каждом боте и ссылку на создание нового бота.

### `setting_bot.html`
Страница настроек для каждого бота. Позволяет пользователю редактировать информацию о боте, сценарии и другие настройки.

### `sidebar.html`
Файл, содержащий боковую панель (sidebar) приложения. Включает навигационные ссылки для быстрого доступа к разделам, таким как "Проекты", "Статистика", "Тарифы" и "Партнерская программа". Также отображает информацию о текущем пользователе и ссылку для выхода из системы.

## Описание таблиц в базе данных

### bot_settings
Таблица, в которой содержаться настройки созданного пользователем бота. Таблица содержит поля:

- temperature - температура (креативность) со страницы setting_bot.html
- name - название бота, созданного пользователем
- info - 
- more_info - 


## Правила работы с приложением

1. Bootstrap использовать только по CDN и только версии 5.3.0
2. Для нового функционала создавать отдельный файл python, именовать так, чтобы было понятно для чего он нужен.
3. Наименование python файлов должно быть строго на английском языке.
4. Все файлы html должны храниться только в папке templates.
5. Для работы с бд использовать только библиотеку psycopq2.
6. Роуты прописывать только в файле main.py
7. Именование файлов должно быть строго с маленькой буквы, в двойных названиях допустимо использование нижнего подчеркивания между словами.
8. Переменные должны быть названы строго с маленькой буквы.
9. Все переменные должны отражать суть для чего они используются, недопустимо использование переменных a, a34534 и других подобных, которые не отражают суть использования.
10. Обязательно добавлять описание новых файлов в файл readme
11. Перед началом работы над кодом приложения, создавать отдельную ветку с содержимым ветки develop
12. Обязательно писать комментарии в коде максимально простым и понятным языком отвечающие на вопрос - что делает функция ?
13. Использовать только базу данных, которая работает на сервере.